#include<stdio.h>
#include<conio.h>
int i;
void add(int q[],int m[])
{
	for(i=5;i>=0;i--)
	{
		if((q[i]+m[i])==0)
		{
			q[i]=0;
		}
		else
		if((q[i]+m[i])==1)
		{
			q[i]=1;
		}
		else
		if((q[i]+m[i])==2)
		{
			q[i]=0;
			if(i>=1)
			{
				q[i-1]++;
			}
		}
		else
		if((q[i]+m[i])==3)
		{
			q[i]=1;
			if(i>=1)
			{
				q[i-1]++;
			}
		}
	}
}
void shift(int q[])
{
	for(i=0;i<=10;i++)
	{
		q[i]=q[i+1];
	}
}
void twos(int c[])
{
	for(i=0;i<=5;i++)
	{
		c[i]=c[i]^1;
	}
	if((c[5]+1)==1)
	{
		c[5]=1;
	}
	else
	{
		c[5]=0;
		for(i=4;i>=0;i--)
		{
			if((c[i]+1)==2)
			{
				c[i]=0;
			}
			else
			{
				c[i]=1;
				break;
			}
		}
	}
}
void main()
{
	int m1,q1,m[6],q[12],c[6],j;
	clrscr();
	printf("Enter Dividend and Divisor = ");
	scanf("%d %d",&q1,&m1);
	for(i=5;i>=0;i--)
	{
		m[i]=m1%2;
		m1=m1/2;
		q[i]=q1%2;
		q1=q1/2;
	}
	for(i=0;i<6;i++)
	{
		c[i]=m[i];
	}
	twos(c);
	for(i=0;i<6;i++)
	{
		q[i+6]=q[i];
		q[i]=0;
	}
	for(j=1;j<=6;j++)
	{
		if(q[0]==1)
		{
			shift(q);
			add(q,m);
		}
		else
		{
			shift(q);
			add(q,c);
		}
		if(q[0]==1)
		{
			q[11]=0;
		}
		else
		{
			q[11]=1;
		}
	}
	if(q[0]==1)
	{
		add(q,m);
	}
	printf("Remainder is = ");
	for(i=0;i<=5;i++)
	{
		printf("%d",q[i]);
	}
	printf("\n");
	printf("Quotient is = ");
	for(i=6;i<=11;i++)
	{
		printf("%d",q[i]);
	}
	getch();
}